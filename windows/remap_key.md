# 键盘重映射

位于注册表的：`HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layout\` 下新建一个二进制值项："Scancode Map"。这个项目可实现对键盘按键的映射。这里映射的意思可理解为“替换”，可将任意一键替换成其它键。

## 项目格式

以16进制表示，更分为五个部分，每个逗号之间都为一个字节。

`00,00,00,00,  00,00,00,00,  02,00,00,00,  01,00, 02,00,  00,00,00,00`

* 8个字节。 这是版本信息号。照例写就好。
* 4个字节。 这是映射键的总数。按照二进制的读写规则，低位在左，高位在右。`02 00 00 00` 这个数实际就是：`00 00 00 02` 。从 02 开始，一个映射键是 02 ，两个是03 ，依次递加，十个是 0B 。
* 2个字节。 表示替换后按键的”扫描码“。如：ESC 键的扫描码是 01 ，所以就表示 01 00 。再如 左Ctrl键扫描码是 1D 00, 而右Ctrl键是 1D E0 。
* 2个字节。 表示原按键的”扫描码“。格式同上。
* 以4个 00 结束。

常见的，将`caps lock`映射为`esc`，按上述规则为`01,00,3a,00`

## 其他方式

除了更改注册表外，你可以使用别的软件来实现按键映射。

* key extender, 官网`www.remapkey.com`，但要收费
* sharpkeys, `https://sharpkeys.codeplex.com`
