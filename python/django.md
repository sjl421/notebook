# Django

## vim

如何用`idea`的`IdeaVim`插件的替换功能实现以下功能:

将`"../js/abc.js"`替换为`"/static/js/abc.js"`: `:%s/\.\.\/js\/\(.\{-}\)"\@=/static/\1/g`

解释如下:
* `vim`的正则元字符, 除了`^$.*`之外, 都需要`\\`转义, 包括`()+?{}`
* 因为替换`:s/old/new/g`使用了`/`字符, 所以`/`也需要转义
* `\{-}`表示匹配0或多, 懒惰匹配
* `\@=`表示前面的字符`"`有, 但不被匹配
* `\1`表示反向引用捕获组1

将`"../js/abc.js"`替换为`"{% static 'js/abc.js' %}"`: `:%s/\.\.\/\(js.\{-}\)"\@=/{% static '\1' %}/g`

将`"/static/xx/xx.xx"`替换为`"{% static 'xx/xx.xx' %}"`: `:%s/\/static\/\(.\{-}\)"\@=/{% static '\1' %}/g`
