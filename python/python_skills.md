# python有趣的技巧

## 赋值时i和i[:]的区别

`Python`中可以用`id(obj)`来查看对象的唯一标识符.

在列表的赋值中, 在列表元素发生改变时, `i=`会申请新内存并赋值给同一个变量, 而`i[:]=`会在原内存中写入.

虽然知道这个似乎没有什么用处, 时间测量结果也差不多.

## 逻辑运算符

`Python`的逻辑运算符使用`and/or/not`关键字, 不支持`&&/||/!`这些运算符, 两个版本皆如此.

但支持位运算符, 当对布尔值进行位运算时相当于进行逻辑运算.

但要注意, 位运算优先级较比较运算符高.

则有`3 > x and x > 1`, 也相当于`(3 > x) & (x > 1)`, 也相当于`3 > x > 1`.

## 字串前缀符

即`b"hello"`和`r"hello"`和`u"hello"`的区别.

`b`表示字节字串, `u`表示`unicode`字串, 在不同版本中, `str`类型默认的类型不同.

而`r`在两个版本中, 都表示去掉`\\`的转义机制. 考虑到`python`中, 单双引号的用处相同, 不存在`Ruby`中`'`会自动关闭转义.

## 字符串格式化

有两种:
* `"%s, %d" % (s, n)`
* `"{}, {}".format(s, n)`

## 作用域

```python
k = 4
def a():
  print(k)  #对,可以看到外部作用域
def b():
  k += 1  #错,但不可以修改外部变量
def c():
  global k
  k += 1  #对,声明k为全局变量, 可以修改
def d():
  n = 4
  def e():
    nonlocal n  #对,嵌套函数,使用外部变量,要nonlocal, 无论函数嵌套几层
    n += 4
```

## import导入

```py
# a.py
print("载入a.py")
import c
# c.py
print("载入c.py")
# b.py
print("载入b.py")
import a
######
python b.py  
#=> 载入b.py
#   载入a.py
#   载入c.py
```

当运行`py`文件时, 其所导入的`py`文件中, 有`import`语句也会依次递归导入, 但同样的模块不会重复导入.
